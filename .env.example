# ---------------------------------
# Plex Server Connection - REQUIRED
# ---------------------------------
# The full URL to your Plex server, including the port.
PLEX_URL="http://127.0.0.1:32400"

# Your Plex authentication token. This is required to run the script.
# Find it here: https://support.plex.tv/articles/204059436-finding-an-authentication-token-x-plex-token/
PLEX_TOKEN=""

# The account ID for the user whose watch history should be used for recommendations.
# If left empty, it will use the watch history of ALL users on the server.
# Find your account ID by viewing the XML for any item in your library and looking for the 'accountID' attribute.
PLEX_ACCOUNT_ID=""

# ---------------------------------
# Library Configuration
# ---------------------------------
# A comma-separated list of the names of the Plex libraries you want to pull recommendations from.
# Example: LIBRARY_SECTIONS="Movies,TV Shows,Documentaries"
LIBRARY_SECTIONS="Movies,TV Shows"

# The base name for the recommendation collections created in Plex.
# The script will create collections like "Recommended Today (Movies)".
COLLECTION_BASE="Recommended Today"

# ---------------------------------
# Recommendation Tuning
# ---------------------------------
# How many months of watch history to look back at for scoring.
LOOKBACK_MONTHS="7"

# How many of the most recent history items to fetch for analysis.
MAX_HISTORY="1000"

# The final number of movies and TV episodes to include in the collections.
TOPK_RECS="10"

# Limits the number of recommended episodes from a single TV show.
EPISODE_SHOW_CAP="2"

# Limits how many movies that have never been watched can appear in the final recommendations.
MAX_NEVER_WATCHED_MOVIES="1"

# Limits how many TV episodes that have never been watched can appear in the final recommendations.
MAX_NEVER_WATCHED_EPISODES="1"

# ---------------------------------
# Location for Weather-based Mood
# ---------------------------------
# Your latitude and longitude for fetching local weather to influence genre recommendations.
LAT="39.9526"
LON="-75.1652"

# ---------------------------------
# LLM (AI) Re-ranking - Optional
# ---------------------------------
# Set to "true" to enable re-ranking of recommendations by an OpenAI model.
# This can provide more nuanced and varied results but requires an API key.
USE_LLM="false"

# Your OpenAI API key. Only needed if USE_LLM is "true".
OPENAI_API_KEY=""

# The OpenAI model to use for re-ranking.
OPENAI_MODEL="gpt-4o-mini"

# The number of top candidates to send to the LLM for re-ranking.
LLM_SEND_N="120"

# ---------------------------------
# Advanced / Performance
# ---------------------------------
# If "true", the script will print what it would do but will NOT create or modify any Plex collections.
# Useful for testing.
DRY_RUN="false"

# The minimum number of days before an item can be recommended again.
MIN_REREC_DAYS="14"

# The number of days after which a previously recommended item's penalty is fully removed.
FULL_RECOVERY_DAYS="45"

# To improve speed, the script pre-fetches only this many of the highest-potential movies.
PREFETCH_LIMIT_MOVIES="1500"

# To improve speed, the script pre-fetches only this many of the highest-potential episodes.
PREFETCH_LIMIT_EPISODES="2500"

# ---------------------------------
# Caching
# ---------------------------------
# How long (in minutes) to keep the cached list of all your library items. (360 minutes = 6 hours)
CACHE_TTL_MINUTES="360"

# Set to "true" to force the script to rebuild its cache of library items on this run.
REFRESH_CACHE="false"